When confronted with a substance of unknown identity, researchers often perform mass spectrometry on the sample and compare the observed spectrum to a library of previously-collected spectra. While popular, this approach is problematic because it will fail to identify molecules that are not in the existing library. In response, we propose to improve the library's coverage by augmenting it with synthetic spectra that are predicted using machine learning. We contribute a lightweight neural network model that quickly predicts mass spectra for molecules within 5ms, with better accuracy than previously reported machine learning models for this task. Achieving high accuracy predictions requires a novel neural network architecture that is designed to capture typical fragmentation patterns from electron ionization. We analyze the effects of our modeling innovations on library matching performance, compare our models to prior machine-learning-based work on spectrum prediction, and present analysis of strengths and weaknesses of our model on particular molecules.
